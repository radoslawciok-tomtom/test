@startuml

!$tileCoordinates = "[tileCoordinates]"
!$tileIds = "[lowestZoomNoTilesAreasIds]"

Client -> RedisNoTileAreaRepository: findMinNotSupportedZoom($tileCoordinates)

RedisNoTileAreaRepository -> RedisNoTileAreaRepository: create list of tile ids

alt list of tile ids in not empty
    RedisNoTileAreaRepository -> ReactiveStringRedisTemplate: execute(script, ids) \n- Executes script on redis server side \nto find no tiles areas with lowest zoom
    ReactiveStringRedisTemplate --> RedisNoTileAreaRepository: $tileIds
end

alt error thrown during script execution
    RedisNoTileAreaRepository --> Client: [EMPTY]
else
    RedisNoTileAreaRepository --> Client: $tileIds
end

@enduml