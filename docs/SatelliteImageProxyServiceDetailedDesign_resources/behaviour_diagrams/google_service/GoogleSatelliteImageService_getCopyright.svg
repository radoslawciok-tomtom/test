<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="404px" preserveAspectRatio="none" style="width:824px;height:404px;background:#FFFFFF;" version="1.1" viewBox="0 0 824 404" width="824px" zoomAndPan="magnify"><defs><filter height="300%" id="fh9pe9z3h6rcy" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.6000000000000003"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.2000000000000006" dy="3.2000000000000006" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fh9pe9z3h6rcy)" height="150.0813" style="stroke:#000000;stroke-width:1.6000000000000003;" width="693.2" x="8" y="205.7813"/><rect fill="#FFFFFF" height="81.7625" style="stroke:none;stroke-width:0.8000000000000002;" width="693.2" x="8" y="274.1"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="39.2" x2="39.2" y1="32.2375" y2="369.4625"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="160.8" x2="160.8" y1="32.2375" y2="369.4625"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="333.6" x2="333.6" y1="32.2375" y2="369.4625"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="489.6" x2="489.6" y1="32.2375" y2="369.4625"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="646" x2="646" y1="32.2375" y2="369.4625"/><rect fill="#FEFECE" filter="url(#fh9pe9z3h6rcy)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="44" x="16" y="4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="32.8" x="21.6" y="19.9961">Client</text><rect fill="#FEFECE" filter="url(#fh9pe9z3h6rcy)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="44" x="16" y="368.6625"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="32.8" x="21.6" y="384.6586">Client</text><rect fill="#FEFECE" filter="url(#fh9pe9z3h6rcy)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="176.8" x="71.2" y="4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="165.6" x="76.8" y="19.9961">GoogleSatelliteImageService</text><rect fill="#FEFECE" filter="url(#fh9pe9z3h6rcy)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="176.8" x="71.2" y="368.6625"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="165.6" x="76.8" y="384.6586">GoogleSatelliteImageService</text><rect fill="#FEFECE" filter="url(#fh9pe9z3h6rcy)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="145.6" x="259.2" y="4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="134.4" x="264.8" y="19.9961">SessionContextProvider</text><rect fill="#FEFECE" filter="url(#fh9pe9z3h6rcy)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="145.6" x="259.2" y="368.6625"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="134.4" x="264.8" y="384.6586">SessionContextProvider</text><rect fill="#FEFECE" filter="url(#fh9pe9z3h6rcy)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="144.8" x="416" y="4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="133.6" x="421.6" y="19.9961">GoogleMapsTileService</text><rect fill="#FEFECE" filter="url(#fh9pe9z3h6rcy)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="144.8" x="416" y="368.6625"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="133.6" x="421.6" y="384.6586">GoogleMapsTileService</text><rect fill="#FEFECE" filter="url(#fh9pe9z3h6rcy)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="91.2" x="598.8" y="4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="80" x="604.4" y="19.9961">ExceptionUtils</text><rect fill="#FEFECE" filter="url(#fh9pe9z3h6rcy)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="91.2" x="598.8" y="368.6625"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="80" x="604.4" y="384.6586">ExceptionUtils</text><polygon fill="#A80036" points="151.6,53.9438,159.6,57.1438,151.6,60.3438,154.8,57.1438" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="39.6" x2="156.4" y1="57.1438" y2="57.1438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="67.2" x="45.2" y="53.091">getCopyright</text><polygon fill="#A80036" points="324,77.25,332,80.45,324,83.65,327.2,80.45" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="161.2" x2="328.8" y1="80.45" y2="80.45"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="130.4" x="166.8" y="76.3973">get google session token</text><polygon fill="#A80036" points="170,100.5563,162,103.7563,170,106.9563,166.8,103.7563" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="165.2" x2="332.8" y1="103.7563" y2="103.7563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="29.6" x="174.8" y="99.7035">token</text><polygon fill="#A80036" points="480.4,123.8625,488.4,127.0625,480.4,130.2625,483.6,127.0625" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="161.2" x2="485.2" y1="127.0625" y2="127.0625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="83.2" x="166.8" y="123.0098">getViewPortInfo</text><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="490" x2="523.6" y1="155.2219" y2="155.2219"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="523.6" x2="523.6" y1="155.2219" y2="165.6219"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="490.8" x2="523.6" y1="165.6219" y2="165.6219"/><polygon fill="#A80036" points="498.8,162.4219,490.8,165.6219,498.8,168.8219,495.6,165.6219" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="144.8" x="495.6" y="151.1691">call Google Api for viewPort</text><path d="M649.6,137.4625 L649.6,169.4625 L816.8,169.4625 L816.8,145.4625 L808.8,137.4625 L649.6,137.4625 " fill="#FBFB77" filter="url(#fh9pe9z3h6rcy)" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><path d="M808.8,137.4625 L808.8,145.4625 L816.8,145.4625 L808.8,137.4625 " fill="#FBFB77" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="150.4" x="654.4" y="151.116">viewPort contains copyrights</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="120" x="654.4" y="163.2223">for a given coordinates</text><polygon fill="#A80036" points="170,190.5813,162,193.7813,170,196.9813,166.8,193.7813" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="165.2" x2="489.2" y1="193.7813" y2="193.7813"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="209.6" x="174.8" y="189.7285">Google Api response = viewPort or error</text><path d="M8,205.7813 L59.2,205.7813 L59.2,211.3813 L51.2,219.3813 L8,219.3813 L8,205.7813 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8000000000000002;"/><rect fill="none" height="150.0813" style="stroke:#000000;stroke-width:1.6000000000000003;" width="693.2" x="8" y="205.7813"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="15.2" x="20" y="216.2348">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="178.4" x="71.2" y="215.5496">[Google Api respond with viewPort]</text><polygon fill="#A80036" points="48.4,237.1938,40.4,240.3938,48.4,243.5938,45.2,240.3938" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="43.6" x2="160.4" y1="240.3938" y2="240.3938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="48.8" x="53.2" y="236.341">copyright</text><path d="M164.8,223.4875 L164.8,243.4875 L428.8,243.4875 L428.8,231.4875 L420.8,223.4875 L164.8,223.4875 " fill="#FBFB77" filter="url(#fh9pe9z3h6rcy)" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><path d="M420.8,223.4875 L420.8,231.4875 L428.8,231.4875 L420.8,223.4875 " fill="#FBFB77" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="247.2" x="169.6" y="237.141">copyright object is created from viewPort body.</text><polygon fill="#A80036" points="48.4,264.5,40.4,267.7,48.4,270.9,45.2,267.7" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="43.6" x2="160.4" y1="267.7" y2="267.7"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="48.8" x="53.2" y="263.6473">copyright</text><line style="stroke:#000000;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="8" x2="701.2" y1="274.9" y2="274.9"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="159.2" x="12" y="283.0684">[Google Api respond with error]</text><polygon fill="#A80036" points="636.4,299.65,644.4,302.85,636.4,306.05,639.6,302.85" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="161.2" x2="641.2" y1="302.85" y2="302.85"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="222.4" x="166.8" y="298.7973">map error from Google api to SipException</text><polygon fill="#A80036" points="170,322.9563,162,326.1563,170,329.3563,166.8,326.1563" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="165.2" x2="645.2" y1="326.1563" y2="326.1563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="66.4" x="174.8" y="322.1035">sipException</text><polygon fill="#A80036" points="48.4,346.2625,40.4,349.4625,48.4,352.6625,45.2,349.4625" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="43.6" x2="160.4" y1="349.4625" y2="349.4625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="66.4" x="53.2" y="345.4098">sipException</text><!--MD5=[54eecec96fac49cb21c6312c9e213b5e]
@startuml

Client -> GoogleSatelliteImageService: getCopyright
GoogleSatelliteImageService -> SessionContextProvider: get google session token
SessionContextProvider - -> GoogleSatelliteImageService: token
GoogleSatelliteImageService -> GoogleMapsTileService: getViewPortInfo
GoogleMapsTileService -> GoogleMapsTileService: call Google Api for viewPort
note right: viewPort contains copyrights\nfor a given coordinates
GoogleMapsTileService - -> GoogleSatelliteImageService: Google Api response = viewPort or error
alt Google Api respond with viewPort
    GoogleSatelliteImageService - -> Client: copyright
    note right: copyright object is created from viewPort body.
    GoogleSatelliteImageService - -> Client: copyright
else Google Api respond with error
    GoogleSatelliteImageService -> ExceptionUtils: map error from Google api to SipException
    ExceptionUtils - -> GoogleSatelliteImageService: sipException
    GoogleSatelliteImageService - -> Client: sipException
end

@enduml

PlantUML version 1.2022.1(Tue Feb 01 19:19:58 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>