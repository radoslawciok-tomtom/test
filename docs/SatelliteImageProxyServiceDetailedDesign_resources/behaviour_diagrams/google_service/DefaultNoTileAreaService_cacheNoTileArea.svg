<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="447px" preserveAspectRatio="none" style="width:1351px;height:447px;background:#FFFFFF;" version="1.1" viewBox="0 0 1351 447" width="1351px" zoomAndPan="magnify"><defs><filter height="300%" id="f1rndqv9zycpq8" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1rndqv9zycpq8)" height="198.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="334.5" y="108.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="34" x2="34" y1="40.2969" y2="404.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="339.5" x2="339.5" y1="40.2969" y2="404.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="870.5" x2="870.5" y1="40.2969" y2="404.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1065.5" x2="1065.5" y1="40.2969" y2="404.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1254.5" x2="1254.5" y1="40.2969" y2="404.625"/><rect fill="#FEFECE" filter="url(#f1rndqv9zycpq8)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="55" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="12" y="24.9951">Client</text><rect fill="#FEFECE" filter="url(#f1rndqv9zycpq8)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="55" x="5" y="403.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="12" y="423.6201">Client</text><rect fill="#FEFECE" filter="url(#f1rndqv9zycpq8)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="198" x="238.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="245.5" y="24.9951">DefaultNoTileAreaService</text><rect fill="#FEFECE" filter="url(#f1rndqv9zycpq8)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="198" x="238.5" y="403.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="245.5" y="423.6201">DefaultNoTileAreaService</text><rect fill="#FEFECE" filter="url(#f1rndqv9zycpq8)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="182" x="777.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="784.5" y="24.9951">SessionContextProvider</text><rect fill="#FEFECE" filter="url(#f1rndqv9zycpq8)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="182" x="777.5" y="403.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="784.5" y="423.6201">SessionContextProvider</text><rect fill="#FEFECE" filter="url(#f1rndqv9zycpq8)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="181" x="973.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="980.5" y="24.9951">GoogleMapsTileService</text><rect fill="#FEFECE" filter="url(#f1rndqv9zycpq8)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="181" x="973.5" y="403.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="980.5" y="423.6201">GoogleMapsTileService</text><rect fill="#FEFECE" filter="url(#f1rndqv9zycpq8)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="169" x="1168.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="1175.5" y="24.9951">NoTileAreaRepository</text><rect fill="#FEFECE" filter="url(#f1rndqv9zycpq8)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="169" x="1168.5" y="403.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="1175.5" y="423.6201">NoTileAreaRepository</text><rect fill="#FFFFFF" filter="url(#f1rndqv9zycpq8)" height="198.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="334.5" y="108.5625"/><polygon fill="#A80036" points="327.5,67.4297,337.5,71.4297,327.5,75.4297,331.5,71.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34.5" x2="333.5" y1="71.4297" y2="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="41.5" y="66.3638">cacheNoTileArea([tileCoordinates], format)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="386.5" y1="95.5625" y2="95.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="386.5" x2="386.5" y1="95.5625" y2="108.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="345.5" x2="386.5" y1="108.5625" y2="108.5625"/><polygon fill="#A80036" points="355.5,104.5625,345.5,108.5625,355.5,112.5625,351.5,108.5625" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="384" x="351.5" y="90.4966">findNoTileAreaTileCoordinates(&lt;tile coordinates&gt;, format)</text><polygon fill="#A80036" points="858.5,138.6953,868.5,142.6953,858.5,146.6953,862.5,142.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="344.5" x2="864.5" y1="142.6953" y2="142.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="351.5" y="137.6294">sessionContext(defaultLanguage, format)</text><polygon fill="#A80036" points="355.5,167.8281,345.5,171.8281,355.5,175.8281,351.5,171.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="349.5" x2="869.5" y1="171.8281" y2="171.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="361.5" y="166.7622">sessionContext</text><polygon fill="#A80036" points="1054,196.9609,1064,200.9609,1054,204.9609,1058,200.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="344.5" x2="1060" y1="200.9609" y2="200.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="351.5" y="195.895">tileExists([tileCoordinates], sessionKey)</text><polygon fill="#A80036" points="355.5,226.0938,345.5,230.0938,355.5,234.0938,351.5,230.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="349.5" x2="1065" y1="230.0938" y2="230.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="361.5" y="225.0278">tileExist: boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="344.5" x2="386.5" y1="259.2266" y2="259.2266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="386.5" x2="386.5" y1="259.2266" y2="272.2266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="345.5" x2="386.5" y1="272.2266" y2="272.2266"/><polygon fill="#A80036" points="355.5,268.2266,345.5,272.2266,355.5,276.2266,351.5,272.2266" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="328" x="351.5" y="254.1606">find geographical coordinates for [tileCoordinates]</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="344.5" x2="386.5" y1="306.3594" y2="306.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="386.5" x2="386.5" y1="306.3594" y2="319.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="339.5" x2="386.5" y1="319.3594" y2="319.3594"/><polygon fill="#A80036" points="349.5,315.3594,339.5,319.3594,349.5,323.3594,345.5,319.3594" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="507" x="351.5" y="301.2935">add lower zoom to no tile area. Returns: [tileCoordinates1], [tileCoordinates2]</text><polygon fill="#A80036" points="1243,354.625,1253,358.625,1243,362.625,1247,358.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="1249" y1="358.625" y2="358.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="346.5" y="338.4263">create([tileCoordinates1], [tileCoordinates2], ttl)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="346.5" y="353.5591">- save coordinates in cache</text><polygon fill="#A80036" points="350.5,368.625,340.5,372.625,350.5,376.625,346.5,372.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="344.5" x2="1254" y1="372.625" y2="372.625"/><polygon fill="#A80036" points="45.5,382.625,35.5,386.625,45.5,390.625,41.5,386.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="39.5" x2="338.5" y1="386.625" y2="386.625"/><!--MD5=[fdfcce3f2323aac839637bf4400522d1]
@startuml

!$tileCoordinates = "[tileCoordinates]"
!$tileCoordinates1 = "[tileCoordinates1]"
!$tileCoordinates2 = "[tileCoordinates2]"
!$EMPTY = "[EMPTY]"

Client -> DefaultNoTileAreaService: cacheNoTileArea($tileCoordinates, format)

DefaultNoTileAreaService -> DefaultNoTileAreaService: findNoTileAreaTileCoordinates(<tile coordinates>, format)
activate DefaultNoTileAreaService
    DefaultNoTileAreaService -> SessionContextProvider: sessionContext(defaultLanguage, format)
    SessionContextProvider - -> DefaultNoTileAreaService: sessionContext
    DefaultNoTileAreaService -> GoogleMapsTileService: tileExists($tileCoordinates, sessionKey)
    GoogleMapsTileService - -> DefaultNoTileAreaService: tileExist: boolean
    DefaultNoTileAreaService -> DefaultNoTileAreaService: find geographical coordinates for $tileCoordinates
    DefaultNoTileAreaService - -> DefaultNoTileAreaService: add lower zoom to no tile area. Returns: $tileCoordinates1, $tileCoordinates2
deactivate DefaultNoTileAreaService

DefaultNoTileAreaService -> NoTileAreaRepository: create($tileCoordinates1, $tileCoordinates2, ttl) \n- save coordinates in cache
NoTileAreaRepository - -> DefaultNoTileAreaService
DefaultNoTileAreaService - -> Client

@enduml

@startuml


Client -> DefaultNoTileAreaService: cacheNoTileArea([tileCoordinates], format)

DefaultNoTileAreaService -> DefaultNoTileAreaService: findNoTileAreaTileCoordinates(<tile coordinates>, format)
activate DefaultNoTileAreaService
    DefaultNoTileAreaService -> SessionContextProvider: sessionContext(defaultLanguage, format)
    SessionContextProvider - -> DefaultNoTileAreaService: sessionContext
    DefaultNoTileAreaService -> GoogleMapsTileService: tileExists([tileCoordinates], sessionKey)
    GoogleMapsTileService - -> DefaultNoTileAreaService: tileExist: boolean
    DefaultNoTileAreaService -> DefaultNoTileAreaService: find geographical coordinates for [tileCoordinates]
    DefaultNoTileAreaService - -> DefaultNoTileAreaService: add lower zoom to no tile area. Returns: [tileCoordinates1], [tileCoordinates2]
deactivate DefaultNoTileAreaService

DefaultNoTileAreaService -> NoTileAreaRepository: create([tileCoordinates1], [tileCoordinates2], ttl) \n- save coordinates in cache
NoTileAreaRepository - -> DefaultNoTileAreaService
DefaultNoTileAreaService - -> Client

@enduml

PlantUML version 1.2021.11(Sat Oct 02 15:26:11 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>